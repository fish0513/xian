import{d as N,o as V,c as t,a as s,b as d,e as f,t as l,w as $,F as p,r as g,f as _,g as u,u as w,h as e,i as B,_ as D}from"./index-BQ5N97Dc.js";import{g as F}from"./food-D3suAVUb.js";const H={class:"home-page"},L={key:0,class:"state-container"},z={key:1,class:"state-container error"},E={key:2,class:"content"},I={class:"section-title"},M={class:"section-actions"},R=["onClick"],S={class:"card-list"},T=["onClick"],j={class:"card-left"},q={class:"item-name"},A={key:0,class:"item-sub"},G={class:"card-right"},J=N({__name:"Home",setup(K){const v=w(),m=_([]),r=_(!0),n=_(""),h=async()=>{r.value=!0,n.value="";try{const o=await F();m.value=o.categories}catch{n.value="加载失败，请检查网络"}finally{r.value=!1}},k=o=>{v.push(`/detail/${o}`)},C=o=>{v.push(`/list?category_id=${o}`)};return V(()=>{h()}),(o,c)=>{const b=u("van-loading"),y=u("van-button"),x=u("van-image");return e(),t("div",H,[c[1]||(c[1]=s("div",{class:"hero"},[s("div",{class:"hero-title"},"吃在启东")],-1)),r.value?(e(),t("div",L,[d(b,{color:"#fff"})])):n.value?(e(),t("div",z,[f(l(n.value)+" ",1),d(y,{size:"small",onClick:h},{default:$(()=>[...c[0]||(c[0]=[f("重试",-1)])]),_:1})])):(e(),t("div",E,[(e(!0),t(p,null,g(m.value,i=>(e(),t("div",{key:i.id,class:"section"},[s("div",I,l(i.name),1),s("div",M,[s("button",{class:"more-btn",type:"button",onClick:a=>C(i.id)},"更多",8,R)]),s("div",S,[(e(!0),t(p,null,g(i.items,a=>(e(),t("div",{key:a.id,class:"food-card",onClick:O=>k(a.id)},[s("div",j,[s("div",q,l(a.title),1),a.subtitle?(e(),t("div",A,l(a.subtitle),1)):B("",!0)]),s("div",G,[d(x,{src:a.cover_url,fit:"cover",class:"item-img"},null,8,["src"])])],8,T))),128))])]))),128))]))])}}}),U=D(J,[["__scopeId","data-v-f1d61023"]]);export{U as default};
