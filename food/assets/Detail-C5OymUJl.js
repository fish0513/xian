import{d as g,o as w,c as o,a as s,e as n,j as C,t as l,b as i,w as v,u as x,g as m,h as r,k as D,i as a,f,_ as N}from"./index-Cqp1XgQC.js";import{b as V}from"./food-D3suAVUb.js";const B={key:0,class:"detail-page"},M={class:"header"},T={class:"info-card"},z={class:"title"},H={key:0,class:"subtitle"},L={class:"meta-info"},R={key:0,class:"meta-row"},j={key:1,class:"meta-row"},E={key:2,class:"meta-row"},I={key:0,class:"content-card"},S=["innerHTML"],$={key:1,class:"loading-state"},q={key:2,class:"error-state"},A=g({__name:"Detail",setup(F){const p=D(),h=x(),e=m(null),u=m(!0),d=async()=>{u.value=!0;const _=Number(p.params.id);try{const t=await V(_);e.value=t.item}catch(t){console.error(t)}finally{u.value=!1}};return w(()=>{d()}),(_,t)=>{const c=r("van-icon"),k=r("van-image"),b=r("van-loading"),y=r("van-button");return e.value?(a(),o("div",B,[s("div",M,[n(c,{name:"arrow-left",color:"#fff",size:"20",onClick:t[0]||(t[0]=G=>C(h).back()),class:"back-icon"})]),n(k,{src:e.value.cover_url,width:"100%",height:"250",fit:"cover"},null,8,["src"]),s("div",T,[s("h1",z,l(e.value.title),1),e.value.subtitle?(a(),o("div",H,l(e.value.subtitle),1)):i("",!0),s("div",L,[e.value.address?(a(),o("div",R,[n(c,{name:"location-o"}),s("span",null,l(e.value.address),1)])):i("",!0),e.value.phone?(a(),o("div",j,[n(c,{name:"phone-o"}),s("span",null,l(e.value.phone),1)])):i("",!0),e.value.business_hours?(a(),o("div",E,[n(c,{name:"clock-o"}),s("span",null,l(e.value.business_hours),1)])):i("",!0)])]),e.value.content?(a(),o("div",I,[t[1]||(t[1]=s("div",{class:"section-title"},"详情介绍",-1)),s("div",{class:"rich-content",innerHTML:e.value.content},null,8,S)])):i("",!0)])):u.value?(a(),o("div",$,[n(b,{vertical:"",color:"#fff"},{default:v(()=>[...t[2]||(t[2]=[f("加载中...",-1)])]),_:1})])):(a(),o("div",q,[t[4]||(t[4]=s("span",null,"加载失败",-1)),n(y,{size:"small",onClick:d},{default:v(()=>[...t[3]||(t[3]=[f("重试",-1)])]),_:1})]))}}}),O=N(A,[["__scopeId","data-v-43efb747"]]);export{O as default};
