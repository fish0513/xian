import{d as N,o as V,c as e,a as s,b as f,e as d,f as h,t as i,w,F as p,r as g,g as _,h as u,u as B,i as t,_ as D}from"./index-Cqp1XgQC.js";import{g as F}from"./food-D3suAVUb.js";const H={class:"home-page"},$={class:"hero"},z={key:0,class:"state-container"},E={key:1,class:"state-container error"},I={key:2,class:"content"},L={class:"section-title"},M={class:"card-list"},R=["onClick"],S={class:"card-left"},T={class:"item-name"},j={key:0,class:"item-sub"},q={class:"card-right"},A=N({__name:"Home",setup(G){const k=B(),v=_([]),r=_(!0),n=_(""),m=async()=>{r.value=!0,n.value="";try{const a=await F();v.value=a.categories}catch{n.value="加载失败，请检查网络"}finally{r.value=!1}},y=a=>{k.push(`/detail/${a}`)};return V(()=>{m()}),(a,c)=>{const C=u("van-loading"),b=u("van-button"),x=u("van-image");return t(),e("div",H,[s("div",$,[c[0]||(c[0]=s("div",{class:"hero-title"},"吃在启东",-1)),f("",!0)]),r.value?(t(),e("div",z,[d(C,{color:"#fff"})])):n.value?(t(),e("div",E,[h(i(n.value)+" ",1),d(b,{size:"small",onClick:m},{default:w(()=>[...c[1]||(c[1]=[h("重试",-1)])]),_:1})])):(t(),e("div",I,[(t(!0),e(p,null,g(v.value,l=>(t(),e("div",{key:l.id,class:"section"},[s("div",L,i(l.name),1),s("div",M,[(t(!0),e(p,null,g(l.items,o=>(t(),e("div",{key:o.id,class:"food-card",onClick:J=>y(o.id)},[s("div",S,[s("div",T,i(o.title),1),o.subtitle?(t(),e("div",j,i(o.subtitle),1)):f("",!0)]),s("div",q,[d(x,{src:o.cover_url,fit:"cover",class:"item-img"},null,8,["src"])])],8,R))),128))])]))),128))]))])}}}),P=D(A,[["__scopeId","data-v-3aaa6d32"]]);export{P as default};
