import{d as v,o as t,c as e,a as n,t as p,r as C,_ as h,b as F,e as _,f as k,w as b,F as $,g,h as u,i as y,u as S,j as D}from"./index-DSu2DQLd.js";import{g as I}from"./food-D3suAVUb.js";import{F as N}from"./FoodRow-C8W1HpVm.js";const T={class:"hero"},V={class:"hero-title"},L=v({__name:"HeroHeader",props:{title:{}},setup(c){return(o,i)=>(t(),e("div",T,[n("div",V,p(c.title),1),C(o.$slots,"default",{},void 0)]))}}),R=h(L,[["__scopeId","data-v-78e0a7c0"]]),j={class:"wrap"},z={class:"title"},E={class:"actions"},M=v({__name:"SectionTitle",props:{title:{}},setup(c){return(o,i)=>(t(),e("div",j,[n("div",z,p(c.title),1),n("div",E,[C(o.$slots,"actions",{},void 0)])]))}}),q=h(M,[["__scopeId","data-v-63030f2c"]]),A={class:"home-page"},G={key:0,class:"state-container"},J={key:1,class:"state-container error"},K={key:2,class:"content"},O=["onClick"],P={class:"card-list"},Q=v({__name:"Home",setup(c){const o=S(),i=u([]),d=u(!0),l=u(""),m=async()=>{d.value=!0,l.value="";try{const s=await I();i.value=s.categories}catch{l.value="加载失败，请检查网络"}finally{d.value=!1}},H=s=>{o.push(`/detail/${s}`)},w=s=>{o.push(`/list?category_id=${s}`)};return F(()=>{m()}),(s,f)=>{const x=y("van-loading"),B=y("van-button");return t(),e("div",A,[_(R,{title:"吃在启东"}),d.value?(t(),e("div",G,[_(x,{color:"#fff"})])):l.value?(t(),e("div",J,[k(p(l.value)+" ",1),_(B,{size:"small",onClick:m},{default:b(()=>[...f[0]||(f[0]=[k("重试",-1)])]),_:1})])):(t(),e("div",K,[(t(!0),e($,null,g(i.value,r=>(t(),e("div",{key:r.id,class:"section"},[_(q,{title:r.name},{actions:b(()=>[n("button",{class:"more-btn",type:"button",onClick:a=>w(r.id)},"更多",8,O)]),_:2},1032,["title"]),n("div",P,[(t(!0),e($,null,g(r.items,a=>(t(),D(N,{key:a.id,title:a.title,subtitle:a.subtitle,"cover-url":a.cover_url,"on-click":()=>H(a.id)},null,8,["title","subtitle","cover-url","on-click"]))),128))])]))),128))]))])}}}),Y=h(Q,[["__scopeId","data-v-ebbb6404"]]);export{Y as default};
