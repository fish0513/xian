import{d as x,b as B,c as a,a as s,e as r,q as D,j as m,l as c,t as N,F as L,g as V,w as p,u as M,h as f,m as T,i,p as z,o,f as g,_ as F}from"./index-b984bQK8.js";import{b as H}from"./shop-Drf5ZSBn.js";const R={key:0,class:"detail-page"},j={class:"header"},q={class:"info-card"},E={class:"title"},I={key:1,class:"content-card"},S=["innerHTML"],$={key:2,class:"content-card"},A={class:"image-grid"},G={key:1,class:"loading-state"},J={key:2,class:"error-state"},K=x({__name:"Detail",setup(O){const h=z(),k=M(),e=f(null),l=f(!0),d=T(()=>{const n=e.value?.shop_images;return n?n.split(/[\s,]+/).map(t=>t.trim()).filter(Boolean):[]}),u=async()=>{l.value=!0;const n=Number(h.params.id);try{const t=await H(n);e.value=t.item}catch{}finally{l.value=!1}};return B(()=>{u()}),(n,t)=>{const y=i("van-icon"),_=i("van-image"),b=i("van-loading"),w=i("van-button");return e.value?(o(),a("div",R,[s("div",j,[r(y,{name:"arrow-left",color:"#fff",size:"20",onClick:t[0]||(t[0]=v=>D(k).back()),class:"back-icon"})]),e.value.shop_logo?(o(),m(_,{key:0,src:e.value.shop_logo,width:"100%",height:"250",fit:"cover"},null,8,["src"])):c("",!0),s("div",q,[s("h1",E,N(e.value.shop_name),1)]),e.value.shop_intro?(o(),a("div",I,[t[1]||(t[1]=s("div",{class:"section-title"},"店铺介绍",-1)),s("div",{class:"rich-content",innerHTML:e.value.shop_intro},null,8,S)])):c("",!0),d.value.length?(o(),a("div",$,[t[2]||(t[2]=s("div",{class:"section-title"},"店铺图片",-1)),s("div",A,[(o(!0),a(L,null,V(d.value,(v,C)=>(o(),m(_,{key:C,src:v,width:"100%",height:"200",fit:"cover"},null,8,["src"]))),128))])])):c("",!0)])):l.value?(o(),a("div",G,[r(b,{vertical:"",color:"#fff"},{default:p(()=>[...t[3]||(t[3]=[g("加载中...",-1)])]),_:1})])):(o(),a("div",J,[t[5]||(t[5]=s("span",null,"加载失败",-1)),r(w,{size:"small",onClick:u},{default:p(()=>[...t[4]||(t[4]=[g("重试",-1)])]),_:1})]))}}}),U=F(K,[["__scopeId","data-v-f266cc7a"]]);export{U as default};
