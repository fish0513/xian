import{d as b,o as t,c as e,a as l,t as y,r as F,_ as $,b as S,e as i,f as m,w as f,F as h,g as k,h as d,i as g,u as D,j as H,k as N}from"./index-B7GBSxnW.js";import{g as T}from"./shop-Drf5ZSBn.js";import{A as V,F as A}from"./AppHeader-D-ik0ktb.js";const I={class:"wrap"},L={class:"title"},R={class:"actions"},j=b({__name:"SectionTitle",props:{title:{}},setup(u){return(s,r)=>(t(),e("div",I,[l("div",L,y(u.title),1),l("div",R,[F(s.$slots,"actions",{},void 0)])]))}}),z=$(j,[["__scopeId","data-v-63030f2c"]]),E={class:"home-page"},M={key:0,class:"state-container"},q={key:1,class:"state-container error"},G={key:2,class:"content"},J=["onClick"],K={class:"card-list"},O=b({__name:"Home",setup(u){const s=D(),r=d([]),_=d(!0),n=d(""),v=async()=>{_.value=!0,n.value="";try{const o=await T();r.value=o.categories}catch{n.value="加载失败，请检查网络"}finally{_.value=!1}},C=o=>{s.push(`/detail/${o}`)},w=o=>{s.push(`/list?category_id=${o}`)};return S(()=>{v()}),(o,p)=>{const x=g("van-loading"),B=g("van-button");return t(),e("div",E,[i(V,{"show-back":!0,"on-back":()=>H(s).back()},null,8,["on-back"]),_.value?(t(),e("div",M,[i(x,{color:"#fff"})])):n.value?(t(),e("div",q,[m(y(n.value)+" ",1),i(B,{size:"small",onClick:v},{default:f(()=>[...p[0]||(p[0]=[m("重试",-1)])]),_:1})])):(t(),e("div",G,[(t(!0),e(h,null,k(r.value,c=>(t(),e("div",{key:c.id,class:"section"},[i(z,{title:c.name},{actions:f(()=>[l("button",{class:"more-btn",type:"button",onClick:a=>w(c.id)},"更多",8,J)]),_:2},1032,["title"]),l("div",K,[(t(!0),e(h,null,k(c.items,a=>(t(),N(A,{key:a.id,title:a.shop_name,"cover-url":a.shop_logo,"on-click":()=>C(a.id)},null,8,["title","cover-url","on-click"]))),128))])]))),128))]))])}}}),W=$(O,[["__scopeId","data-v-7ee278a6"]]);export{W as default};
