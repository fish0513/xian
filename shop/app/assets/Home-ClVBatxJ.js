import{d as y,o as t,c as e,a as l,t as $,r as F,_ as b,b as S,e as i,f as m,w as f,F as h,g as k,h as d,i as g,u as D,j as H}from"./index-b984bQK8.js";import{g as N}from"./shop-Drf5ZSBn.js";import{A as T,F as V}from"./AppHeader-DOJ-6uWQ.js";const A={class:"wrap"},I={class:"title"},L={class:"actions"},R=y({__name:"SectionTitle",props:{title:{}},setup(u){return(a,r)=>(t(),e("div",A,[l("div",I,$(u.title),1),l("div",L,[F(a.$slots,"actions",{},void 0)])]))}}),j=b(R,[["__scopeId","data-v-63030f2c"]]),z={class:"home-page"},E={key:0,class:"state-container"},M={key:1,class:"state-container error"},q={key:2,class:"content"},G=["onClick"],J={class:"card-list"},K=y({__name:"Home",setup(u){const a=D(),r=d([]),_=d(!0),n=d(""),v=async()=>{_.value=!0,n.value="";try{const s=await N();r.value=s.categories}catch{n.value="加载失败，请检查网络"}finally{_.value=!1}},C=s=>{a.push(`/detail/${s}`)},w=s=>{a.push(`/list?category_id=${s}`)};return S(()=>{v()}),(s,p)=>{const x=g("van-loading"),B=g("van-button");return t(),e("div",z,[i(T,{"show-back":!1}),_.value?(t(),e("div",E,[i(x,{color:"#fff"})])):n.value?(t(),e("div",M,[m($(n.value)+" ",1),i(B,{size:"small",onClick:v},{default:f(()=>[...p[0]||(p[0]=[m("重试",-1)])]),_:1})])):(t(),e("div",q,[(t(!0),e(h,null,k(r.value,c=>(t(),e("div",{key:c.id,class:"section"},[i(j,{title:c.name},{actions:f(()=>[l("button",{class:"more-btn",type:"button",onClick:o=>w(c.id)},"更多",8,G)]),_:2},1032,["title"]),l("div",J,[(t(!0),e(h,null,k(c.items,o=>(t(),H(V,{key:o.id,title:o.shop_name,"cover-url":o.shop_logo,"on-click":()=>C(o.id)},null,8,["title","cover-url","on-click"]))),128))])]))),128))]))])}}}),U=b(K,[["__scopeId","data-v-8cd45ae4"]]);export{U as default};
