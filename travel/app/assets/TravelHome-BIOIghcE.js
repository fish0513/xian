import{d as g,o as t,c as e,a as i,t as y,r as B,_ as $,b as F,e as l,f,w as m,F as k,g as h,h as u,i as b,u as S,j as D,k as H}from"./index-CDOJ9f2x.js";import{g as N}from"./travel-CQg5PtGP.js";import{A as V,F as A}from"./AppHeader-DXd8XJQI.js";const I={class:"wrap"},L={class:"title"},R={class:"actions"},j=g({__name:"SectionTitle",props:{title:{}},setup(_){return(a,r)=>(t(),e("div",I,[i("div",L,y(_.title),1),i("div",R,[B(a.$slots,"actions",{},void 0)])]))}}),z=$(j,[["__scopeId","data-v-63030f2c"]]),E={class:"home-page"},M={key:0,class:"state-container"},q={key:1,class:"state-container error"},G={key:2,class:"content"},J=["onClick"],K={class:"card-list"},O=g({__name:"TravelHome",setup(_){const a=S(),r=u([]),d=u(!0),n=u(""),v=async()=>{d.value=!0,n.value="";try{const s=await N();r.value=s.categories}catch{n.value="加载失败，请检查网络"}finally{d.value=!1}},C=s=>{a.push(`/detail/${s}`)},w=s=>{a.push(`/list?category_id=${s}`)};return F(()=>{v()}),(s,p)=>{const x=b("van-loading"),T=b("van-button");return t(),e("div",E,[l(V,{"show-back":!0,"on-back":()=>D(a).back()},null,8,["on-back"]),d.value?(t(),e("div",M,[l(x,{color:"#fff"})])):n.value?(t(),e("div",q,[f(y(n.value)+" ",1),l(T,{size:"small",onClick:v},{default:m(()=>[...p[0]||(p[0]=[f("重试",-1)])]),_:1})])):(t(),e("div",G,[(t(!0),e(k,null,h(r.value,c=>(t(),e("div",{key:c.id,class:"section"},[l(z,{title:c.name},{actions:m(()=>[i("button",{class:"more-btn",type:"button",onClick:o=>w(c.id)},"更多",8,J)]),_:2},1032,["title"]),i("div",K,[(t(!0),e(k,null,h(c.items,o=>(t(),H(A,{key:o.id,title:o.title,subtitle:o.subtitle,"cover-url":o.cover_url,"on-click":()=>C(o.id)},null,8,["title","subtitle","cover-url","on-click"]))),128))])]))),128))]))])}}}),W=$(O,[["__scopeId","data-v-8f194b3d"]]);export{W as default};
